## API Report File for "@rushstack/heft"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AsyncParallelHook } from 'tapable';
import { CommandLineChoiceListParameter } from '@rushstack/ts-command-line';
import { CommandLineChoiceParameter } from '@rushstack/ts-command-line';
import { CommandLineFlagParameter } from '@rushstack/ts-command-line';
import { CommandLineIntegerListParameter } from '@rushstack/ts-command-line';
import { CommandLineIntegerParameter } from '@rushstack/ts-command-line';
import { CommandLineParameter } from '@rushstack/ts-command-line';
import { CommandLineStringListParameter } from '@rushstack/ts-command-line';
import { CommandLineStringParameter } from '@rushstack/ts-command-line';
import { IPackageJson } from '@rushstack/node-core-library';
import { ITerminal } from '@rushstack/node-core-library';
import { ITerminalProvider } from '@rushstack/node-core-library';
import { RigConfig } from '@rushstack/rig-package';
import { Terminal } from '@rushstack/node-core-library';

export { CommandLineChoiceListParameter }

export { CommandLineChoiceParameter }

export { CommandLineFlagParameter }

export { CommandLineIntegerListParameter }

export { CommandLineIntegerParameter }

export { CommandLineParameter }

export { CommandLineStringListParameter }

export { CommandLineStringParameter }

// @public (undocumented)
export class HeftConfiguration {
    get buildFolder(): string;
    get cacheFolder(): string;
    // @internal
    _checkForRigAsync(): Promise<void>;
    get globalTerminal(): Terminal;
    get heftPackageJson(): IPackageJson;
    // @internal (undocumented)
    static initialize(options: _IHeftConfigurationInitializationOptions): HeftConfiguration;
    get projectConfigFolder(): string;
    get projectPackageJson(): IPackageJson;
    get rigConfig(): RigConfig;
    // (undocumented)
    get rigPackageResolver(): IRigPackageResolver;
    get tempFolder(): string;
    get terminalProvider(): ITerminalProvider;
}

// @public
export interface IChangedFileState {
    readonly isSourceFile: boolean;
    readonly version: string;
}

// @public
export interface ICopyOperation extends IFileSelectionSpecifier {
    destinationFolders: string[];
    flatten?: boolean;
    hardlink?: boolean;
}

// @public
export interface IDeleteOperation extends IFileSelectionSpecifier {
}

// @public
export interface IFileSelectionSpecifier {
    excludeGlobs?: string[];
    fileExtensions?: string[];
    includeGlobs?: string[];
    sourcePath: string;
}

// @internal (undocumented)
export interface _IHeftConfigurationInitializationOptions {
    cwd: string;
    terminalProvider: ITerminalProvider;
}

// @public
export interface IHeftDefaultParameters {
    readonly clean: boolean;
    readonly cleanCache: boolean;
    readonly debug: boolean;
    readonly locales: Iterable<string>;
    readonly production: boolean;
    readonly serve: boolean;
    readonly verbose: boolean;
    readonly watch: boolean;
}

// @public
export interface IHeftLifecycleCleanHookOptions {
    // (undocumented)
    addDeleteOperations: (...deleteOperations: IDeleteOperation[]) => void;
}

// @public
export interface IHeftLifecycleHooks {
    clean: AsyncParallelHook<IHeftLifecycleCleanHookOptions>;
    // (undocumented)
    recordMetrics: AsyncParallelHook<IHeftRecordMetricsHookOptions>;
    toolStart: AsyncParallelHook<IHeftLifecycleToolStartHookOptions>;
    toolStop: AsyncParallelHook<IHeftLifecycleToolStopHookOptions>;
}

// @public (undocumented)
export interface IHeftLifecyclePlugin<TOptions = void> extends IHeftPlugin<IHeftLifecycleSession, TOptions> {
}

// @public (undocumented)
export interface IHeftLifecycleSession {
    readonly cacheFolder: string;
    readonly hooks: IHeftLifecycleHooks;
    readonly logger: IScopedLogger;
    readonly parameters: IHeftParameters;
    requestAccessToPluginByName<T extends object>(pluginToAccessPackage: string, pluginToAccessName: string, pluginApply: (pluginAccessor: T) => void): void;
    readonly tempFolder: string;
}

// @public
export interface IHeftLifecycleToolStartHookOptions {
}

// @public
export interface IHeftLifecycleToolStopHookOptions {
}

// @public
export interface IHeftParameters extends IHeftDefaultParameters {
    getChoiceListParameter(parameterLongName: string): CommandLineChoiceListParameter;
    getChoiceParameter(parameterLongName: string): CommandLineChoiceParameter;
    getFlagParameter(parameterLongName: string): CommandLineFlagParameter;
    getIntegerListParameter(parameterLongName: string): CommandLineIntegerListParameter;
    getIntegerParameter(parameterLongName: string): CommandLineIntegerParameter;
    getStringListParameter(parameterLongName: string): CommandLineStringListParameter;
    getStringParameter(parameterLongName: string): CommandLineStringParameter;
}

// @public (undocumented)
export interface IHeftPlugin<TSession extends IHeftLifecycleSession | IHeftTaskSession = IHeftLifecycleSession | IHeftTaskSession, TOptions = void> {
    // (undocumented)
    readonly accessor?: object;
    // (undocumented)
    apply(session: TSession, heftConfiguration: HeftConfiguration, pluginOptions?: TOptions): void;
}

// @public (undocumented)
export interface IHeftRecordMetricsHookOptions {
    // (undocumented)
    metricData: IMetricsData;
    // (undocumented)
    metricName: string;
}

// @public
export interface IHeftTaskCleanHookOptions {
    addDeleteOperations: (...deleteOperations: IDeleteOperation[]) => void;
}

// @public
export interface IHeftTaskHooks {
    clean: AsyncParallelHook<IHeftTaskCleanHookOptions>;
    run: AsyncParallelHook<IHeftTaskRunHookOptions>;
    runIncremental: AsyncParallelHook<IHeftTaskRunIncrementalHookOptions>;
}

// @public (undocumented)
export interface IHeftTaskPlugin<TOptions = void> extends IHeftPlugin<IHeftTaskSession, TOptions> {
}

// @public
export interface IHeftTaskRunHookOptions {
    addCopyOperations: (...copyOperations: ICopyOperation[]) => void;
}

// @public
export interface IHeftTaskRunIncrementalHookOptions extends IHeftTaskRunHookOptions {
    changedFiles: ReadonlyMap<string, IChangedFileState>;
}

// @public
export interface IHeftTaskSession {
    readonly cacheFolder: string;
    readonly hooks: IHeftTaskHooks;
    readonly logger: IScopedLogger;
    readonly parameters: IHeftParameters;
    requestAccessToPluginByName<T extends object>(pluginToAccessPackage: string, pluginToAccessName: string, pluginApply: (pluginAccessor: T) => void): void;
    readonly taskName: string;
    readonly tempFolder: string;
}

// @public (undocumented)
export interface IMetricsData {
    command: string;
    commandParameters: Record<string, string>;
    encounteredError?: boolean;
    machineArch: string;
    machineCores: number;
    machineOs: string;
    machineProcessor: string;
    machineTotalMemoryMB: number;
    taskTotalExecutionMs: number;
}

// @internal (undocumented)
export interface _IPerformanceData {
    // (undocumented)
    encounteredError?: boolean;
    // (undocumented)
    taskTotalExecutionMs: number;
}

// @public (undocumented)
export interface IRigPackageResolver {
    // (undocumented)
    resolvePackageAsync(packageName: string, terminal: ITerminal): Promise<string>;
}

// @beta
export interface IRunScript {
    // (undocumented)
    runAsync?: (options: IRunScriptOptions) => Promise<void>;
}

// @beta
export interface IRunScriptOptions {
    // (undocumented)
    heftConfiguration: HeftConfiguration;
    // (undocumented)
    heftTaskSession: IHeftTaskSession;
    // (undocumented)
    runOptions: IHeftTaskRunHookOptions;
    // (undocumented)
    scriptOptions: Record<string, unknown>;
}

// @public (undocumented)
export interface IScopedLogger {
    emitError(error: Error): void;
    emitWarning(warning: Error): void;
    readonly terminal: Terminal;
}

// @internal
export class _MetricsCollector {
    recordAsync(command: string, performanceData?: Partial<_IPerformanceData>, parameters?: Record<string, string>): Promise<void>;
    // (undocumented)
    readonly recordMetricsHook: AsyncParallelHook<IHeftRecordMetricsHookOptions>;
    setStartTime(): void;
}

// (No @packageDocumentation comment for this package)

```
